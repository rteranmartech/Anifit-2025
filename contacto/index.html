<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ANIFIT — Contacto</title>

  <meta name="description" content="Formulario de contacto ANIFIT. Completa tus datos y te contactamos a la brevedad." />
  <meta name="theme-color" content="#25d366" />
  <link rel="icon" href="/favicon.ico" />
  <link rel="canonical" href="https://tudominio.cl/contacto" />

  <meta property="og:title" content="ANIFIT — Contacto" />
  <meta property="og:description" content="Completa el formulario y nos comunicamos a la brevedad." />
  <meta property="og:image" content="https://tudominio.cl/og.jpg" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />

  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    img-src 'self' https://i.postimg.cc https://www.google-analytics.com data:;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src https://fonts.gstatic.com;
    script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com;
    connect-src 'self' https://www.google-analytics.com https://region1.google-analytics.com;
    base-uri 'self';
    form-action 'self' https://script.google.com;
    frame-src https://script.google.com;
  " />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7XETGW8F61"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7XETGW8F61');
  </script>

  <style>
    :root {
      --bg: #0b0d10;
      --text-main: #f4f6f8;
      --text-muted: #9aa3b2;
      --brand: #25d366;
      --brand-light: #32e27a;
      --card: #14171c;
      --stroke: #2a2d32;
      --font-family: 'Poppins', sans-serif;
    }

    *, *::before, *::after { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      scroll-behavior: smooth;
      font-family: var(--font-family);
      background-color: var(--bg);
      color: var(--text-main);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    section { padding: clamp(3rem, 6vw, 5rem) 0; scroll-margin-top: 80px; }
    a { color: var(--brand); text-decoration: none; transition: color .2s ease, background-color .2s ease, border-color .2s ease; }
    a:hover { color: var(--brand-light); }
    h1, h2, h3 { margin: 0 0 .5rem; font-weight: 800; line-height: 1.2; }
    p { margin: 0; }
    .container { width: min(1200px, 92vw); margin-inline: auto; }
    .muted { color: var(--text-muted); }

    /* Accesibilidad */
    .skip-link{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
    .skip-link:focus{ position:fixed; left:1rem; top:1rem; width:auto; height:auto; padding:.5rem 1rem; background:#fff; color:#000; border-radius:.5rem; z-index:9999; }

    /* Card / UI del sitio */
    .card {
      background-color: var(--card);
      border: 1px solid var(--stroke);
      border-radius: 1rem;
      padding: 1.1rem;
      transition: transform .3s ease, box-shadow .3s ease;
    }
    .card:hover { transform: translateY(-0.35rem); box-shadow: 0 1rem 2rem rgba(0,0,0,0.2); will-change: transform, box-shadow; }

    /* Botones del sitio */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.8rem 1.1rem;
      border-radius: 0.75rem;
      font-weight: 800;
      text-align: center;
      transition: transform .2s ease, box-shadow .2s ease, filter .2s ease, opacity .2s ease;
      gap: .5rem;
      border: 0;
      cursor: pointer;
    }
    .btn-primary {
      background-color: var(--brand);
      color: var(--bg);
      box-shadow: 0 5px 15px rgba(37,211,102,0.3);
    }
    .btn-primary:hover { transform: translateY(-2px); filter: brightness(1.06); box-shadow: 0 8px 20px rgba(37,211,102,0.45); }
    .btn:disabled { opacity: .55; cursor: not-allowed; transform: none; box-shadow: none; }

    /* ===================== NAVEGACIÓN ===================== */
    .nav {
      position: sticky;
      top: 0;
      z-index: 100;
      background-color: rgba(11,13,16,0.75);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--stroke);
      transition: background-color .25s ease, box-shadow .25s ease, border-color .25s ease;
    }
    .nav.scrolled { background-color: rgba(11,13,16,0.92); box-shadow: 0 8px 24px rgba(0,0,0,0.35); border-color: #32363c; }

    .nav-inner { display: flex; justify-content: space-between; align-items: center; padding: .7rem 0; gap: .75rem; }
    .brand { display: flex; align-items: center; gap: .55rem; font-weight: 900; font-size: 1.35rem; letter-spacing: .3px; }
    .nav-left { display:flex; align-items:center; gap:1rem; }
    .nav-center { display:flex; align-items:center; gap: 1.4rem; }
    .nav-right { display:flex; align-items:center; gap: .6rem; }
    .nav-links { display: flex; gap: 1.4rem; align-items: center; }
    .nav-link { font-weight: 600; color: var(--text-muted); position: relative; transition: color .2s ease; }
    .nav-link:hover, .nav-link.active { color: var(--text-main); }
    .nav-link::after { content: ''; position: absolute; left: 0; bottom: -6px; width: 0; height: 2px; background-color: var(--brand); transition: width .25s ease; }
    .nav-link:hover::after, .nav-link.active::after { width: 100%; }
    .hamburger { display: none; background: none; border: 1px solid var(--stroke); color: var(--text-main); font-size: 1.1rem; border-radius: .6rem; padding: .4rem .6rem; }

    @media (min-width: 901px) {
      .nav-inner{
        display:grid;
        grid-template-columns: 1fr auto 1fr;
        align-items:center;
        padding:.75rem 0;
      }
      .nav-left{ justify-self:start; }
      .nav-center{ justify-self:center; }
      .nav-right{ justify-self:end; }

      .nav-center .nav-link{
        color: var(--text-main);
        padding: .55rem .9rem;
        border: 1px solid var(--stroke);
        border-radius: .7rem;
        background: rgba(255,255,255,0.02);
        line-height: 1;
      }
      .nav-center .nav-link::after{ content:none; }
      .nav-center .nav-link:hover,
      .nav-center .nav-link.active{
        border-color: rgba(255,255,255,0.18);
        background: rgba(255,255,255,0.05);
        color: var(--text-main);
      }
      .nav-center{ gap: .6rem; }

      .nav-center{ display:none !important; }
    }

    @media (max-width: 900px){
      .nav-center { display: none; }
      .hamburger { display: block; }
      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        position: absolute;
        top: 100%;
        left: 0;
        background-color: rgba(11,13,16,0.96);
        padding: 1rem;
        border-top: 1px solid var(--stroke);
      }
      .nav-links.active { display: flex; }
      .nav-links a { padding: .4rem 0; }
    }

    /* ===================== CONTACTO ===================== */
    .section-title {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 900;
      text-align: center;
      margin-bottom: 1.4rem;
      position: relative;
      display: inline-block;
      width: 100%;
    }
    .section-title::after {
      content: '';
      position: absolute;
      bottom: -1rem;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background-color: var(--brand);
      border-radius: 2px;
    }

    .section-subtitle{
      text-align:center;
      color: var(--text-muted);
      font-size: 1rem;
      max-width: 760px;
      margin: 0 auto 2.1rem;
    }

    .contact-wrap {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.1rem;
      align-items: start;
      max-width: 760px;
      margin: 0 auto;
    }

    .contact-card {
      position: relative;
      overflow: hidden;
      padding: clamp(1.2rem, 2.5vw, 2rem);
      background:
        radial-gradient(1200px 240px at 10% 0%, rgba(37,211,102,0.12), transparent 60%),
        linear-gradient(180deg, #171a1f 0%, #111418 100%);
      border: 1px solid var(--stroke);
      border-radius: 1rem;
    }
    .contact-card::after{
      content:'';
      position:absolute;
      inset:-2px;
      background: conic-gradient(from 180deg at 50% 50%, rgba(37,211,102,.18), transparent 40%, rgba(37,211,102,.18) 80%, transparent 100%);
      filter: blur(24px);
      opacity:.25;
      pointer-events:none;
    }
    .contact-card > * { position: relative; z-index: 1; }

    .field { margin-bottom: 1rem; }
    label{
      display:block;
      font-size: .85rem;
      font-weight: 700;
      margin-bottom: .45rem;
      color: var(--text-muted);
    }
    input, textarea{
      width:100%;
      background: rgba(255,255,255,0.02);
      border: 1px solid var(--stroke);
      border-radius: .85rem;
      padding: .85rem 1rem;
      color: var(--text-main);
      font-family: var(--font-family);
      font-size: 1rem;
      outline: none;
      transition: border-color .2s ease, box-shadow .2s ease, background-color .2s ease;
    }
    input:focus, textarea:focus{
      border-color: rgba(37,211,102,0.7);
      box-shadow: 0 0 0 3px rgba(37,211,102,0.12);
      background: rgba(255,255,255,0.03);
    }
    textarea { resize: vertical; min-height: 130px; }

    /* ✅ Botón centrado */
    .btn-wrap {
      display: flex;
      justify-content: center;
      margin-top: .5rem;
    }
    .btn-wrap .btn {
      min-width: 180px;
    }

    .msg{
      margin-top: 1rem;
      padding: .85rem 1rem;
      border-radius: .85rem;
      font-size: .95rem;
      display: none;
      border: 1px solid transparent;
    }
    .msg.success{
      background: rgba(37,211,102,0.10);
      border-color: rgba(37,211,102,0.35);
      color: var(--brand-light);
    }
    .msg.error{
      background: rgba(255,80,80,0.10);
      border-color: rgba(255,80,80,0.30);
      color: #ff6b6b;
    }

    /* ===================== LOADER MANCUERNA ===================== */
    #gym-loader {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 9999;
      background: rgba(11, 13, 16, 0.88);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 1.4rem;
    }
    #gym-loader.active {
      display: flex;
    }

    .loader-box {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.2rem;
      background: linear-gradient(160deg, #171a1f 0%, #111418 100%);
      border: 1px solid var(--stroke);
      border-radius: 1.4rem;
      padding: 2.4rem 3rem;
      box-shadow: 0 0 60px rgba(37,211,102,0.12), 0 30px 60px rgba(0,0,0,0.5);
      position: relative;
      overflow: hidden;
    }
    .loader-box::before {
      content: '';
      position: absolute;
      top: -40%;
      left: -40%;
      width: 180%;
      height: 180%;
      background: radial-gradient(ellipse at center, rgba(37,211,102,0.07) 0%, transparent 60%);
      pointer-events: none;
    }

    /* SVG Dumbbell */
    .dumbbell-wrap {
      position: relative;
      width: 96px;
      height: 40px;
    }

    .dumbbell-svg {
      width: 96px;
      height: 40px;
      animation: dumbbellCurl 1.1s ease-in-out infinite;
      transform-origin: 50% 100%;
      filter: drop-shadow(0 0 8px rgba(37,211,102,0.55));
    }

    @keyframes dumbbellCurl {
      0%   { transform: rotate(-22deg) scaleX(1); }
      25%  { transform: rotate(0deg) scaleX(1.04); }
      50%  { transform: rotate(22deg) scaleX(1); }
      75%  { transform: rotate(0deg) scaleX(1.04); }
      100% { transform: rotate(-22deg) scaleX(1); }
    }

    /* Pulse ring behind dumbbell */
    .pulse-ring {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 56px;
      height: 56px;
      border-radius: 50%;
      border: 2px solid rgba(37,211,102,0.35);
      animation: pulseRing 1.1s ease-out infinite;
    }
    @keyframes pulseRing {
      0%   { transform: translate(-50%, -50%) scale(0.7); opacity: .7; }
      100% { transform: translate(-50%, -50%) scale(1.55); opacity: 0; }
    }

    /* Dots loader */
    .loader-dots {
      display: flex;
      gap: .45rem;
      align-items: center;
    }
    .loader-dots span {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background-color: var(--brand);
      animation: dotBounce 1.1s ease-in-out infinite;
    }
    .loader-dots span:nth-child(2) { animation-delay: .18s; }
    .loader-dots span:nth-child(3) { animation-delay: .36s; }
    @keyframes dotBounce {
      0%, 80%, 100% { transform: scale(.75); opacity: .4; }
      40%            { transform: scale(1.15); opacity: 1; }
    }

    .loader-text {
      font-size: .9rem;
      font-weight: 600;
      color: var(--text-muted);
      letter-spacing: .04em;
      margin: 0;
    }

    /* Footer */
    footer{
      text-align: center;
      padding: 2rem 0 1.5rem;
      font-size: .9rem;
      color: var(--text-muted);
      border-top: 1px solid var(--stroke);
      margin-top: 2rem;
    }
    footer .logo{
      font-weight: 900;
      color: var(--text-main);
      font-size: 1rem;
      margin-bottom: .25rem;
    }
  </style>
</head>

<body>
  <a class="skip-link" href="#main">Saltar al contenido</a>

  <!-- ✅ LOADER MANCUERNA -->
  <div id="gym-loader" role="status" aria-live="polite" aria-label="Enviando formulario">
    <div class="loader-box">
      <div class="dumbbell-wrap">
        <div class="pulse-ring"></div>
        <!-- Dumbbell SVG inline -->
        <svg class="dumbbell-svg" viewBox="0 0 96 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <!-- Left plate outer -->
          <rect x="0" y="10" width="10" height="20" rx="3" fill="#25d366" opacity="0.9"/>
          <!-- Left plate inner -->
          <rect x="10" y="14" width="7" height="12" rx="2" fill="#32e27a"/>
          <!-- Bar -->
          <rect x="17" y="18" width="62" height="4" rx="2" fill="#4ade80" opacity="0.85"/>
          <!-- Right plate inner -->
          <rect x="79" y="14" width="7" height="12" rx="2" fill="#32e27a"/>
          <!-- Right plate outer -->
          <rect x="86" y="10" width="10" height="20" rx="3" fill="#25d366" opacity="0.9"/>
          <!-- Shine on bar -->
          <rect x="24" y="18.5" width="44" height="1.5" rx="1" fill="white" opacity="0.18"/>
        </svg>
      </div>
      <div class="loader-dots">
        <span></span><span></span><span></span>
      </div>
      <p class="loader-text">Enviando tu mensaje…</p>
    </div>
  </div>

  <header class="nav" id="site-nav">
    <div class="container nav-inner">
      <div class="nav-left">
        <a class="brand" href="index.html#home" aria-label="Inicio ANIFIT">ANIFIT</a>
      </div>

      <nav class="nav-center nav-links" id="primary-nav" role="navigation" aria-label="principal">
        <a class="nav-link active" href="#contacto" data-navlink>Contacto</a>
      </nav>

      <div class="nav-right header-cta" aria-label="acciones rápidas">
        <button class="hamburger" aria-label="Abrir menú" aria-controls="primary-nav" aria-expanded="false">☰</button>
      </div>
    </div>
  </header>

  <main id="main">
    <iframe name="hidden_iframe" style="display:none;" title="hidden_iframe"></iframe>

    <section id="contacto" aria-label="Contacto ANIFIT">
      <div class="container">
        <h2 class="section-title">Contacto</h2>

        <p class="section-subtitle">Completa el formulario y nos comunicamos a la brevedad.</p>

        <div class="contact-wrap">
          <div class="contact-card">
            <form id="form"
              method="GET"
              action="https://script.google.com/macros/s/AKfycbwbm4ncy-pQehzQjb7RZsGXpRC9y3O1h8Kc1GrcoStLfzY-UbickN9GjkVg9Bxjn6LS/exec"
              target="hidden_iframe"
              autocomplete="on">

              <div class="field">
                <label for="nombre">Nombre y Apellido</label>
                <input type="text" id="nombre" name="nombre" placeholder="Ej: María González" required />
              </div>

              <div class="field">
                <label for="mail">Mail</label>
                <input type="email" id="mail" name="mail" placeholder="tu@email.com" required />
              </div>

              <div class="field">
                <label for="telefono">Teléfono</label>
                <!-- ✅ maxlength = 16 chars ("+56 9 9206 8679") -->
                <input type="tel" id="telefono" name="telefono" placeholder="+56 9 1234 5678" maxlength="16" />
              </div>

              <div class="field">
                <label for="nota">Nota</label>
                <textarea id="nota" name="nota" placeholder="Escribe tu mensaje aquí..."></textarea>
              </div>

              <!-- ✅ Botón centrado -->
              <div class="btn-wrap">
                <button type="submit" class="btn btn-primary" id="btn">Enviar</button>
              </div>
              <div class="msg" id="msg"></div>
            </form>

            <p class="muted" style="margin-top:1rem; font-size:.95rem;">
              <a href="" target="_blank" rel="noopener noreferrer"></a>
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="logo">ANIFIT</div>
      <p>&copy; 2024 ANIFIT — Todos los derechos reservados.</p>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Scroll header animation
      const nav = document.getElementById('site-nav');
      if (nav) {
        let isScrolled = false;
        window.addEventListener('scroll', () => {
          if (window.scrollY > 50 && !isScrolled) {
            nav.classList.add('scrolled');
            isScrolled = true;
          } else if (window.scrollY <= 50 && isScrolled) {
            nav.classList.remove('scrolled');
            isScrolled = false;
          }
        });
      }

      // Hamburger menu toggle (mobile)
      const hamburger = document.querySelector('.hamburger');
      const navLinks = document.getElementById('primary-nav');
      if (hamburger && navLinks) {
        hamburger.addEventListener('click', () => {
          const expanded = hamburger.getAttribute('aria-expanded') === 'true' || false;
          hamburger.setAttribute('aria-expanded', !expanded);
          navLinks.classList.toggle('active');
        });
      }

      // Form submit con loader de mancuerna
      const form = document.getElementById('form');
      const btn = document.getElementById('btn');
      const msg = document.getElementById('msg');
      const loader = document.getElementById('gym-loader');

      if (form) {
        form.addEventListener('submit', function () {
          btn.disabled = true;
          msg.style.display = 'none';

          // ✅ Mostrar loader
          loader.classList.add('active');

          setTimeout(function () {
            // Ocultar loader
            loader.classList.remove('active');

            msg.className = 'msg success';
            msg.textContent = '✓ ¡Formulario enviado correctamente!';
            msg.style.display = 'block';
            form.reset();
            btn.disabled = false;
          }, 1800);
        });
      }
    });
  </script>
</body>
</html>
